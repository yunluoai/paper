%*********************************************************************
% fduthesis: 复旦大学论文模板
% 2023-05-27 v0.9a
%
% 重要提示：
%   1. 请确保使用 UTF-8 编码保存
%   2. 请使用 XeLaTeX 或 LuaLaTeX 编译
%   3. 请仔细阅读用户文档
%   4. 修改、使用、发布本文档请务必遵循 LaTeX Project Public License
%   5. 不需要的注释可以尽情删除
%*********************************************************************

\documentclass[type=master]{fduthesis}
% 模板选项：
%   type = doctor|master|bachelor  论文类型，默认为本科论文
%   oneside|twoside                论文的单双面模式，默认为 twoside
%   draft = true|false             是否开启草稿模式，默认关闭
% 带选项的用法示例：
%   \documentclass[oneside]{fduthesis}
%   \documentclass[twoside, draft=true]{fduthesis}
%   \documentclass[type=bachelor, twoside, draft=true]{fduthesis}

\fdusetup{
	% 参数设置
	% 允许采用两种方式设置选项：
	%   1. style/... = ...
	%   2. style = { ... = ... }
	% 注意事项：
	%   1. 不要出现空行
	%   2. “=” 两侧的空格会被忽略
	%   3. “/” 两侧的空格不会被忽略
	%   4. 请使用英文逗号 “,” 分隔选项
	%
	% style 类用于设置论文格式
	style = {
		% font = times,
		% 西文字体（包括数学字体）
		% 允许选项：
		%   font = garamond|libertinus|lm|palatino|times|times*|none
		%
		% cjk-font = fandol,
		% 中文字体
		% 允许选项：
		%   cjk-font = adobe|fandol|founder|mac|sinotype|sourcehan|windows|none
		%
		% 注意：
		%   1. 中文字体设置高度依赖于系统。各系统建议方案：
		%        windows：cjk-font = windows
		%        mac：    cjk-font = mac
		%        linux：  cjk-font = fandol（默认值）
		%   2. 除 fandol 和 sourcehan 外，其余字体均为商用字体，请注意版权问题
		%   3. 但 fandol 字体缺字比较严重，而 sourcehan 没有配备楷体和仿宋体
		%   4. 这里中西文字体设置均注释掉了，即使用默认设置：
		%        font     = times
		%        cjk-font = fandol
		%   5. 使用 font = none / cjk-font = none 关闭默认字体设置，需手动进行配置
		%
		% font-size = -4,
		% 字号
		% 允许选项：
		%   font-size = -4|5
		%
		% fullwidth-stop = catcode,
		% 是否把全角实心句点 “．” 作为默认的句号形状
		% 允许选项：
		%   fullwidth-stop = catcode|mapping|false
		% 说明：
		%   catcode   显式的 “。” 会被替换为 “．”（e.g. 不包括用宏定义保存的 “。”）
		%   mapping   所有的 “。” 会被替换为 “．”（使用 LuaLaTeX 编译则无效）
		%   false     不进行替换
		%
		footnote-style = xits,
		% 脚注编号样式
		% 允许选项：
		%   footnote-style = plain|libertinus|libertinus*|libertinus-sans|
		%                    pifont|pifont*|pifont-sans|pifont-sans*|
		%                    xits|xits-sans|xits-sans*
		% 默认与西文字体保持一致
		%
		% hyperlink = color,
		% 超链接样式
		% 允许选项：
		%   hyperlink = border|color|none
		%
		% hyperlink-color = default,
		% 超链接颜色
		% 允许选项：
		%   hyperlink-color = default|classic|material|graylevel|prl
		%
		bib-backend = bibtex,
		% 参考文献支持方式
		% 允许选项：
		%   bib-backend = bibtex|biblatex
		%
		% bib-style = numerical,
		% 参考文献样式
		% 允许选项：
		%   bib-style = author-year|numerical|<其他样式>
		% 说明：
		%   author-year  著者—出版年制
		%   numerical    顺序编码制
		%   <其他样式>   使用其他 .bst（bibtex）或 .bbx（biblatex）格式文件
		%
		% cite-style = {},
		% 引用样式
		% 默认为空，即与参考文献样式保持一致
		% 仅适用于 biblatex；如要填写，需保证相应的 .cbx 格式文件能被调用
		%
		bib-resource = {main.bib},
		% 参考文献数据源
		% 可以是单个文件，也可以是用英文逗号 “,” 隔开的一组文件
		% 如果使用 biblatex，则必须明确给出 .bib 后缀名
		%
		% logo = {fudan-name.pdf},
		% 封面中的校名图片
		% 模版已自带，通常不需要额外配置
		%
		% logo-size = {0.5\textwidth},      % 只设置宽度
		% logo-size = {{}, 3cm},            % 只设置高度
		% logo-size = {8cm, 3cm},           % 设置宽度和高度
		% 设置校名图片的大小
		% 通常不需要调整
		%
		% declaration-page = {declaration.pdf},
		% 插入扫描版的声明页 PDF 文档
		% 默认使用预定义的声明页，但不带签名
		%
		% auto-make-cover = true
		% 是否自动生成论文封面（封一）、指导小组成员名单（封二）和声明页（封三）
		% 除非特殊需要（e.g. 不要封面），否则不建议设为 false
	},
	%
	% info 类用于录入论文信息
	info = {
		title = {面向DSP的编译器全局指令选择的实现、优化及评估},
		% 中文标题
		% 长标题建议使用 “\\” 命令手动换行（不是指在源文件里输入回车符，当然
		% 源文件里适当的换行可以有助于代码清晰）：
		%   title = {最高人民法院、最高人民检察院关于适用\\
			%            犯罪嫌疑人、被告人逃匿、死亡案件违法所得\\
			%            没收程序若干问题的规定},
		%
		title* = {Implementation, Optimization and Evaluation of Global Instruction Selection for DSP Compiler},
		% 英文标题
		%
		author = {周星宇},
		% 作者姓名
		%
		% author* = {Your name},
		% 作者姓名（英文 / 拼音）
		% 目前不需要填写
		%
		supervisor = {吴俊\quad 教授},
		% 导师
		% 姓名与职称之间可以用 \quad 打印一个空格
		%
		major = {计算机技术},
		% 专业
		%
		degree = professional,
		% 学位类型
		% 允许选项：
		%   degree = academic|professional
		% 说明：
		%   academic      学术学位
		%   professional  专业学位
		%
		department = {计算与智能创新学院},
		% 院系
		%
		student-id = {23210240413},
		% 作者学号
		%
		% date = {2023 年 1 月 1 日},
		% 日期
		% 注释掉表示使用编译日期
		%
		% secret-level = ii,
		% 密级
		% 允许选项：
		%   secret-level = none|i|ii|iii
		% 说明：
		%   none  不显示密级与保密年限
		%   i     秘密
		%   ii    机密
		%   iii   绝密
		%
		% secret-year = {五年},
		% 保密年限
		% secret-level = none 时该选项无效
		%
		instructors = {
			{吴\quad 俊 \quad 教\quad 授}
		},
		% 指导小组成员
		% 使用英文逗号 “,” 分隔
		% 如有需要，可以用 \quad 手工对齐
		%
		keywords = {全局指令选择, 编译器优化, 性能评估, LLVM, YARPGen},
		% 中文关键词
		% 使用英文逗号 “,” 分隔
		%
		keywords* = {GlobalISel, compiler optimization, performance evaluation, LLVM, YARPGen},
		% 英文关键词
		% 使用英文逗号 “,” 分隔
		%
		clc = {TP3},
		% 中图分类号
		%
		% jel = {C02},
		% JEL 分类号，仅适用于经济学院等部分院系
	}
}

\usepackage{physics}
\usepackage{tabularx}
\usepackage{booktabs}

\usepackage{caption}
\captionsetup[table]{
	font={small,bf},
	labelsep=space,
	justification=centering
}

% 伪代码块
\usepackage[ruled,vlined,linesnumbered,boxruled]{algorithm2e}

% 代码块
\usepackage{xcolor}
\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}

\usepackage{listings}
\lstset{ %
	backgroundcolor=\color{white},   % choose the background color; you must add \usepackage{color} or \usepackage{xcolor}
	basicstyle=\footnotesize,        % the size of the fonts that are used for the code
	breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
	breaklines=true,                 % sets automatic line breaking
	captionpos=bl,                    % sets the caption-position to bottom
	commentstyle=\color{mygreen},    % comment style
	deletekeywords={...},            % if you want to delete keywords from the given language
	escapeinside={\%*}{*)},          % if you want to add LaTeX within your code
	extendedchars=true,              % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
	frame=single,                    % adds a frame around the code
	keepspaces=true,                 % keeps spaces in text, useful for keeping indentation of code (possibly needs columns=flexible)
	keywordstyle=\color{blue},       % keyword style
	%language=Python,                 % the language of the code
	morekeywords={*,...},            % if you want to add more keywords to the set
	numbers=left,                    % where to put the line-numbers; possible values are (none, left, right)
	numbersep=5pt,                   % how far the line-numbers are from the code
	numberstyle=\tiny\color{mygray}, % the style that is used for the line-numbers
	rulecolor=\color{black},         % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
	showspaces=false,                % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
	showstringspaces=false,          % underline spaces within strings only
	showtabs=false,                  % show tabs within strings adding particular underscores
	stepnumber=1,                    % the step between two line-numbers. If it's 1, each line will be numbered
	stringstyle=\color{orange},     % string literal style
	tabsize=2,                       % sets default tabsize to 2 spaces
	%title=myPython.py                   % show the filename of files included with \lstinputlisting; also try caption instead of title
}

\usepackage{tikz}
\usetikzlibrary{positioning,fit,arrows.meta}


% 需要的命令可以自行定义
\newcommand{\hilbertH}{\symcal{H}}
\newcommand{\ee}{\symrm{e}}
\newcommand{\ii}{\symrm{i}}

\begin{document}
	
	% 这个命令用来关闭版心底部强制对齐，可以减少不必要的 underfull \vbox 提示，但会影响排版效果
	% \raggedbottom
	
	% 前置部分包含目录、中英文摘要以及符号表等
	\frontmatter
	
	% 目录
	\tableofcontents
	
	\begin{abstract}
	随着DSP架构复杂度的不断提高，编译器后端在指令选择阶段面临着更高的性能与工程化要求。基于DAG的指令选择机制在可扩展性、跨基本块优化能力上存在局限，且现有测试体系存在覆盖不全、性能分析薄弱的问题。为此，本文针对DSP架构的硬件及指令集特性，通过定制化实现GlobalISel指令选择框架、设计分阶段指令优化策略、构建全流程性能测试评估平台三个核心环节，形成一套覆盖框架适配、性能优化与效果验证的完整技术方案。
	
	首先，针对基于DAG的指令选择方案的拓展性差和跨基本块优化能力不足的问题，本文对GlobalISel框架的核心流程进行了系统性分析。结合DSP硬件及指令集特性，本文完成了从GMIR生成、指令合法化、寄存器组选择到机器指令选择的全流程定制化实现，构建了适配DSP架构的GlobalISel基础框架并验证了功能的正确性。
	
	其次，针对GlobalISel在通用语义转换过程中产生的问题，本文设计并实现了分阶段指令选择优化策略，主要包括内存操作指令优化、常量乘法强度削弱优化以及冗余指令合并优化等，全面提升了生成代码的执行效率与存储密度。
	
	再次，为应对现有测试体系的不足的问题，本文设计并实现了一套面向DSP编译器的性能测试与评估平台。平台引入随机测试生成技术，对YARPGen进行针对DSP架构的定制化扩展，构建了一套覆盖指令选择及后端优化关键场景的随机测试输入集合。同时平台集成了性能数据的自动化采集、跨版本对比分析及可视化呈现等功能，为编译器优化策略的效果评估与迭代分析提供了系统化支持。
	
	最后，经核心功能验证、优化有效性评估及综合性能对比实验验证，本文实现的面向DSP的GlobalISel框架，较传统DAG方案编译效率优势显著；集成分阶段优化后，有效缩减了生成代码体积、降低了程序执行周期，验证了优化有效性。除此之外，测试评估平台为成果验证提供系统化支撑，印证了GlobalISel在DSP平台的优化潜力与工程价值。
	\end{abstract}
	
	\begin{abstract*}
	As the complexity of the DSP architecture continues to increase, the compiler back-end is facing higher performance and engineering requirements in the instruction selection stage. The instruction selection mechanism based on DAG has limitations in scalability and cross-block optimization capabilities, and the existing testing system has problems of incomplete coverage and weak performance analysis. Therefore, this paper, based on the hardware and instruction set characteristics of the DSP architecture, through customized implementation of the GlobalISel instruction selection framework, design of phased instruction optimization strategies, and construction of a full-process performance testing and evaluation platform in three core links, forms a complete technical solution covering framework adaptation, performance optimization and effect verification. 
	
	Firstly, addressing the issues of poor scalability and insufficient cross-block optimization capabilities of the DAG-based instruction selection scheme, this paper conducted a systematic analysis of the core process of the GlobalISel framework. By taking into account the characteristics of DSP hardware and instruction set, this paper completed the customized implementation of the entire process from GMIR generation, instruction legalization, register group selection to machine instruction selection, constructed the GlobalISel basic framework suitable for the DSP architecture, and verified the correctness of the functions. 
	
	Secondly, in response to the problems arising during the general semantic transformation process of GlobalISel, this paper designs and implements a phased instruction selection optimization strategy, which mainly includes memory operation instruction optimization, constant multiplication strength reduction optimization, and redundant instruction merging optimization, etc. This has comprehensively improved the execution efficiency and storage density of the generated code. 
	
	Furthermore, to address the shortcomings of the existing testing system, this paper designs and implements a performance testing and evaluation platform specifically for DSP compilers. The platform incorporates random test generation technology, customizes YARPGen for the DSP architecture, and constructs a set of random test input collections covering key scenarios of instruction selection and backend optimization. At the same time, the platform integrates functions such as automatic collection of performance data, cross-version comparison analysis, and visual presentation, providing systematic support for the evaluation and iterative analysis of the compiler's optimization strategies. 
	
	Finally, after core functionality verification, effectiveness evaluation of optimization, and comprehensive performance comparison experiments, the GlobalISel framework implemented in this paper for DSP has significant advantages in compilation efficiency compared to the traditional DAG scheme; after integrating staged optimization, it effectively reduces the size of generated code and lowers the program execution cycle, verifying the effectiveness of the optimization. In addition, the test evaluation platform provides systematic support for the verification of the results, confirming the optimization potential and engineering value of GlobalISel on the DSP platform.
	\end{abstract*}
	
	% 主体部分是论文的核心
	\mainmatter
	
	
	%*********************************************************************
	% 第一章
	%*********************************************************************
	\include{chapter1}
	
	
	%*********************************************************************
	% 第二章
	%*********************************************************************
	\include{chapter2}
	
	
	%*********************************************************************
	% 第三章
	%*********************************************************************
	\include{chapter3}
	
	
	%*********************************************************************
	% 第四章
	%*********************************************************************
	\include{chapter4}
	
	
	%*********************************************************************
	% 第五章
	%*********************************************************************
	\include{chapter5}
	
	
	%*********************************************************************
	% 第六章
	%*********************************************************************
	\include{chapter6}
	
	
	% 附录部分
	\appendix
	
	% 后置部分包含参考文献、声明页（自动生成）等
	\backmatter
	
	% 打印参考文献列表
	\printbibliography
	
	\begin{acknowledgements}
	不知不觉三年的时光已经过去，临别之际，借此机会感谢在我前行路上给予我指引、支持与陪伴的每一位师长、同窗与亲人。

	首先，我由衷地感谢我的导师吴俊教授，吴老师不仅在科研上给予我系统而耐心的指导，也在生活中给予我真诚的关心与鼓励。从论文的选题，再到论文的反复修改与打磨，吴老师都给了我很大的帮助。

	其次，我要感谢业鸿师兄。在项目推进的过程中，每当我遇到无法解决的问题时，师兄总能一针见血地指出问题关键，并耐心分享解决思路与实践经验，帮助我逐步厘清方向、走出迷雾。这份毫无保留的帮助与信任，使我在科研道路上少走了许多弯路。同时，我也很感谢陈航师兄、晟宁师兄以及泽鹏师兄在学习和生活中给予的支持与鼓励，与各位师兄的交流探讨，不仅拓宽了我的技术思路，也让我的科研时光充满了温暖与乐趣。

	此外，我也要感谢在研究生阶段并肩同行的同窗好友。与你们在实验室中共同讨论问题、相互启发，在生活中彼此陪伴、互相扶持，是这段求学时光中不可或缺的珍贵记忆。正是这些点滴的交流与陪伴，让科研之路不再孤单，也让三年的学习生活更加充实而难忘。

	最后，我要感谢我的家人。三年来，他们始终是我最坚实的后盾，无论顺境还是逆境，都给予我无条件的支持。正是家人的默默付出与殷切期盼，才让我能够心无旁骛地投入到学术研究中，勇敢追逐自己的目标。
	\end{acknowledgements}
	
\end{document}

\addbibresource{main.bib}